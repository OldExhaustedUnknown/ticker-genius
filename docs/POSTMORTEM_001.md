# Postmortem #001: M1 스키마 누락 사건

**발생일**: 2026-01-08
**심각도**: Medium (개발 지연, 데이터 손실 없음)
**상태**: 해결됨

---

## 1. 사건 요약

M1 (Pydantic 스키마)이 "완료"로 표시되어 있었으나, 실제로 `src/tickergenius/schemas/` 디렉토리와 파일이 존재하지 않았음.

### 타임라인

| 시간 | 이벤트 |
|------|--------|
| 이전 세션 | Phase 3/4 문서에서 "M1: Pydantic 스키마 ✓ 완료" 기록 |
| 이전 세션 | M2 Core 인프라 구현 시작 |
| 토큰 한도 | 세션 중단, 컨텍스트 요약으로 이관 |
| 현재 세션 | M2 검토 중 `from tickergenius.schemas import ...` 실패 발견 |
| 현재 세션 | schemas/ 디렉토리 부재 확인 → M1 미완료 판명 |

### 영향

- M2 개발 지연 (M1 의존성)
- 문서와 실제 코드 간 불일치
- 신뢰도 저하

---

## 2. 근본 원인 분석 (5 Whys)

**Why 1**: M1이 완료되지 않았는데 완료로 표시되었다.
↓
**Why 2**: 문서에 "완료"라고 적었지만 실제 코드 존재 여부를 검증하지 않았다.
↓
**Why 3**: 마일스톤 완료 기준이 명확하지 않았다.
↓
**Why 4**: "완료"의 정의가 "계획됨" vs "구현됨" vs "테스트됨"으로 구분되지 않았다.
↓
**Why 5**: 마일스톤별 체크리스트와 검증 단계가 없었다.

### 근본 원인

1. **검증 부재**: 코드 존재 여부 확인 없이 문서만 업데이트
2. **완료 기준 모호**: "완료"의 정의가 불명확
3. **체크리스트 부재**: 마일스톤별 필수 검증 항목 없음
4. **Git 커밋 누락**: 마일스톤 완료 시 커밋하지 않아 추적 불가

---

## 3. 재발 방지 대책

### 3.1 마일스톤 완료 기준 (Definition of Done)

```
마일스톤 완료 = 다음 모두 충족:
□ 코드 파일 존재 (ls/glob 확인)
□ import 테스트 통과
□ 기본 기능 테스트 통과
□ Git 커밋 완료 (태그: M1-complete, M2-complete 등)
□ 문서 상태 업데이트
```

### 3.2 마일스톤별 체크리스트 도입

Phase 4에 각 마일스톤별 "완료 체크리스트" 섹션 추가.

### 3.3 Git 커밋 정책

```
마일스톤 완료 시:
1. git add -A
2. git commit -m "M{N}: {마일스톤명} 완료"
3. git tag M{N}-complete
```

### 3.4 상태 추적 문서

`docs/STATUS.md` 생성하여 실시간 현황 추적.

---

## 4. 조치 항목

| ID | 조치 | 담당 | 상태 |
|----|------|------|------|
| A1 | M1 스키마 구현 | - | ✅ 완료 |
| A2 | M1+M2 통합 테스트 | - | ✅ 완료 |
| A3 | STATUS.md 생성 | - | 진행 중 |
| A4 | Phase 4 체크리스트 추가 | - | 진행 중 |
| A5 | Git 초기화 및 커밋 | - | 진행 중 |
| A6 | 프로세스 문서 업데이트 | - | 진행 중 |

---

## 5. 교훈

1. **"문서화됨 ≠ 구현됨"**: 문서만 보지 말고 실제 코드 확인 필수
2. **마일스톤마다 커밋**: 추적 가능성 확보
3. **체크리스트 필수**: 완료 기준 명문화
4. **세션 간 인계 주의**: 컨텍스트 요약 시 실제 상태 검증 필요

---

**작성자**: Claude
**검토일**: 2026-01-08
